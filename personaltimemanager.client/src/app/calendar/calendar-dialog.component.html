<div class="calendar-popup">
    <h2>Select a Date</h2>
    <p-calendar [(ngModel)]="selectedDate" dateFormat="yy-mm-dd" (onSelect)="fetchTasks()"></p-calendar>

    <div *ngIf="!tasks.length">
        <p>No tasks found for this date.</p>
    </div>

    <div class="task-list" *ngIf="tasks.length">
        <p-card *ngFor="let task of tasks" class="task-card">
            <div class="task-header">
                <div class="task-content" (click)="openTaskDetails(task)">
                    <h3 [ngClass]="{'completed-text': task.completed}">{{ task.name }}</h3>
                    <p><strong>Start:</strong> {{ task.startTime }} - <strong>End:</strong> {{ task.endTime }}</p>
                </div>
                <button class="complete-btn" [class.completed]="task.completed" (click)="task.completed = !task.completed">
                    {{ task.completed ? "Undo" : "Complete" }}
                </button>
            </div>
        </p-card>
    </div>
</div>
